<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Portali i Studentit</title>
  <style>
    body { font-family: Arial; padding: 20px; background: #e0f7ff; }
    .container { background: white; padding: 20px; border-radius: 10px; }
    input, textarea, button, select { margin-top: 10px; padding: 10px; width: 100%; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Portali i Studentit</h2>

    <h3>📅 Orari i Kursit</h3>
    <ul>
      <li>E marte - 15:00 deri 16:00</li>
    </ul>

    <h3>🔒 Ndrysho Fjalëkalimin</h3>
    <input id="new-password-student" type="password" placeholder="Fjalëkalimi i ri">
    <button onclick="ndryshoPasswordStudent()">Ndrysho</button>

    <h3>🟢 Statusi im</h3>
    <select id="student-status" onchange="ndryshoStatusin()">
      <option value="online">Online</option>
      <option value="busy">Busy</option>
      <option value="invisible">Invisible</option>
    </select>

    <h3>💬 Mesazh nga Trajneri</h3>
    <p id="mesazhi"></p>

    <h3>📤 Dërgo Mesazh Trajnerit</h3>
    <textarea id="mesazhStudenti" placeholder="Shkruaj mesazhin..."></textarea>
    <button onclick="dergoMesazhTrajnerit()">Dërgo</button>

    <h3>👨‍🏫 Trajneri</h3>
    <p>Emri: <strong>Gert Lula</strong></p>
  </div>

  <script>
    window.onload = function () {
      const mesazh = localStorage.getItem('mesazhi_trajnerit') || 'Asnjë mesazh.';
      document.getElementById('mesazhi').innerText = mesazh;
    }

    function ndryshoPasswordStudent() {
      const pass = document.getElementById('new-password-student').value;
      const username = localStorage.getItem("current_student");
      if (username) {
        localStorage.setItem("student_" + username, pass);
        alert('Fjalëkalimi u ndryshua!');
      } else {
        alert("Nuk jeni i loguar.");
      }
    }

    function ndryshoStatusin() {
      const username = localStorage.getItem("current_student");
      const status = document.getElementById("student-status").value;
      localStorage.setItem("student_status_" + username, status);
    }

    function dergoMesazhTrajnerit() {
      const mesazhi = document.getElementById("mesazhStudenti").value.trim();
      const username = localStorage.getItem("current_student");

      if (!mesazhi) {
        alert("Ju lutem shkruani një mesazh.");
        return;
      }

      if (username) {
        localStorage.setItem("mesazh_nga_" + username, mesazhi);
        alert("Mesazhi u dërgua trajnerit!");
        document.getElementById("mesazhStudenti").value = "";
      } else {
        alert("Nuk jeni i loguar.");
      }
    }
  </script>
</body>
</html>
